[
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "event_frequency": "All",
  "modified": "2023-07-05 17:18:59.210423",
  "module": "Advantisquartz",
  "name": "Link QC to Gate entry On submit Purchase Receipt",
  "reference_doctype": "Purchase Receipt",
  "script": "name = doc.name\ngate_entry = doc.gate_entry\n\nqc_list = frappe.db.get_list('Purchase Receipt Item',filters={'parent': f'{name}'}, fields=['quality_inspection'])\nparent = frappe.get_doc('Gate Entry', gate_entry)\n  \nfor l in qc_list:\n    parent.append(\"qc_details\", {\n        'qc': l.quality_inspection\n    })\n    parent.save()\n    frappe.db.commit",
  "script_type": "DocType Event"
 }
]